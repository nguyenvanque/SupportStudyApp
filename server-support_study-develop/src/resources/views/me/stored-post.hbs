<div class='container'>
  <div class='row'>
    <div class='table-responsive'>
  
      <h1 style="text-align: center;  background-color:#FFE4C4;padding:20px;font-weight: bold;">Post app</h1>
      <div class='container'>
        <div class='row'>
          {{#each posts}}
            <div class='col-sm-6 col-lg-4 mb-2 mt-4'>
              <div class='card card-margintop-12'>
                <a href='#'>
                  <img src='{{this.image}}' class='card-img-top' alt='...' />
                </a>
                <div class='card-body'>
                  <a href='#'>
                    <h5 class='card-title'>{{this.title}}</h5>
                  </a>
                  <p class='card-text'>{{this.description}}</p>
                  {{!-- <a
                    type='button'
                    href='/post/{{this._id}}/edit'
                    class='btn btn-success'
                  >Update</a> --}}
                  <a
                    href='#'
                    type='button'
                    class='btn btn-danger'
                    data-bs-id='{{this._id}}'
                    data-bs-toggle='modal'
                    data-bs-target='#deleteleModal'
                  >Delete</a>
                </div>
              </div>
            </div>
          {{/each}}
        </div>
      </div>
    </div>
  </div>
</div>

{{!confirm delete courses}}
<div
  class='modal fade'
  id='deleteleModal'
  tabindex='-1'
  aria-labelledby='exampleModalLabel'
  aria-hidden='true'
>
  <div class='modal-dialog'>
    <div class='modal-content'>
      <div class='modal-header'>
        <h5 class='modal-title' id='exampleModalLabel'>Xóa post</h5>
        <button
          type='button'
          class='btn-close'
          data-bs-dismiss='modal'
          aria-label='Close'
        ></button>
      </div>
      <div class='modal-body'>
        Bạn muốn xóa Post này?
      </div>
      <div class='modal-footer'>
        <button
          type='button'
          id='btn-delete-user'
          class='btn btn-primary'
        >XÓA</button>
        <button
          type='button'
          class='btn btn-secondary'
          data-bs-dismiss='modal'
        >HỦY</button>
      </div>
    </div>
  </div>
</div>
{{! Delete hiden form }}
<form method='POST' id='DeleteForm'></form>

<script>
  //lấy cái nút thằng modal const deleteModal =
  document.getElementById('deleteleModal'); //add cho nó 1 cái sự kiện là show
  nó lên mặc định ẩn deleteModal.addEventListener('show.bs.modal', function
  (event) { //show rồi thì lấy cái form ẩn ra const deleteForm =
  document.getElementById("DeleteForm"); // Button that triggered the modal //
  thằng này của bootrap dùng lấy dữ liệu đã đưa vào boostrap const button =
  event.relatedTarget; // Extract info from data-bs-* attributes const id =
  button.getAttribute('data-bs-id'); const btnDeleteCourese =
  document.getElementById('btn-delete-user'); btnDeleteCourese.onclick =
  function () { deleteForm.action = '/api/post/admin/' + id + '?_method=DELETE';
  deleteForm.submit(); } })
</script>